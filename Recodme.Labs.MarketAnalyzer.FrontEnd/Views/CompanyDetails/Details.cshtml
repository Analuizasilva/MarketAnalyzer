@model Recodme.Labs.MarketAnalyzer.FrontEnd.Models.Support.DetailsDataPoco

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

@section head
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
}



<!DOCTYPE html>
<br />

<!--#region Company Name-->
<table>
    <tr>
        <td style="font-size:40px; padding-right:20px; font-weight:bold">
            @Html.DisplayFor(model => model.MarketAnalyzerRank). @Html.DisplayFor(model => model.CompanyName) | @Html.DisplayFor(model => model.Ticker)
        </td>
        <td class="text-left" style="padding-right:20px">
            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#notesModal">Notes</button>
        </td>
    </tr>
</table>
<!--#endregion -->
<!--- #region Notes-->
<!-- Modal -->
<div class="modal fade" id="notesModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content Transaction-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Notes</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form asp-controller="CompanyDetails" asp-action="Details" asp-route-ticker="@Model.Ticker" asp-route-weightNumberRoic="@Model.WeightNumberRoic" asp-route-weightNumberEquity="@Model.WeightNumberEquity" asp-route-weightNumberEps="@Model.WeightNumberEPS" asp-route-weightNumberRevenue="@Model.WeightNumberRevenue" asp-route-weightNumberPERatio="@Model.WeightNumberPERatio" asp-route-weightNumberDebtToEquity="@Model.WeightNumberDebtToEquity" asp-route-weightNumberAssetsToLiabilities="@Model.WeightNumberAssetsToLiabilities">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <table class="table text-sm-left table-light table-bordered">

                        <tbody>

                            <tr>
                                <td>
                                    <label asp-for="Note" class="control-label"></label>
                                </td>
                                <td>
                                    <input asp-for="Note.Description" class="form-control" />
                                    <span asp-validation-for="Note.Description" class="text-danger"></span>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                    <div class="form-group">
                        <input onClick="document.location.reload(false)" type="submit" value="Ok" class="btn btn-primary" style="background-color:#86bc42; border:#86bc42; width:5rem;" asp-controller="CompanyDetails" asp-action="Details" asp-route-ticker="@Model.Ticker" asp-route-weightNumberRoic="@Model.WeightNumberRoic" asp-route-weightNumberEquity="@Model.WeightNumberEquity" asp-route-weightNumberEps="@Model.WeightNumberEPS" asp-route-weightNumberRevenue="@Model.WeightNumberRevenue" asp-route-weightNumberPERatio="@Model.WeightNumberPERatio" asp-route-weightNumberDebtToEquity="@Model.WeightNumberDebtToEquity" asp-route-weightNumberAssetsToLiabilities="@Model.WeightNumberAssetsToLiabilities" />
                        <br />
                    </div>
                    <table class="table text-sm-left table-light table-bordered">

                        <tbody>
                            <tr>
                                <td>
                                    <label asp-for="Notes" class="control-label"></label>
                                </td>
                            </tr>
                            @foreach (var item in @Model.Notes)
                            {
                                <tr>
                                    <td>
                                        @item.Description
                                    </td>
                                    <td>
                                        <button type="submit" style="border:none" asp-route-Id="@item.Id" asp-action="DeleteNote" asp-controller="CompanyDetails" asp-route-ticker="@Model.Ticker" asp-route-weightNumberRoic="@Model.WeightNumberRoic" asp-route-weightNumberEquity="@Model.WeightNumberEquity" asp-route-weightNumberEps="@Model.WeightNumberEPS" asp-route-weightNumberRevenue="@Model.WeightNumberRevenue" asp-route-weightNumberPERatio="@Model.WeightNumberPERatio" asp-route-weightNumberDebtToEquity="@Model.WeightNumberDebtToEquity" asp-route-weightNumberAssetsToLiabilities="@Model.WeightNumberAssetsToLiabilities">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                    <div class="modal-footer">
                        <br />
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<br />
<br />
<!--#endregion -->
<!--#region Links  -->
<h5>
    <a>Forbes Rank @Html.DisplayFor(model => model.Forbes2000Rank) | </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.Ticker)+stock+price">
        @(Model.Ticker) |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=motley+fool+@(Model.Ticker)">
        Fool |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+stock+crash">
        Crash |
    </a>
    <a target="_blank" link href="https://quickfs.net/company/@(Model.Ticker):US">
        QuickFS |
    </a>
    <a target="_blank" link href="https://finance.yahoo.com/quote/@(Model.Ticker)?">
        Yahoo |
    </a>
    <a target="_blank" link href="https://trends.google.com/trends/explore?date=all&geo=US&q=@(Model.CompanyName)">
        Trends |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+site">
        Site |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+wiki">
        Wiki
    </a>
</h5>
<!--#endregion -->
<!--#region TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
    <div id="tradingview_eea8d"></div>
    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/symbols/NASDAQ-@(Model.Ticker)" rel="noopener" target="_blank"><span class="blue-text">@Model.Ticker Chart</span></a> by TradingView</div>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script type="text/javascript">
        new TradingView.widget(
            {
                "width": 1105,
                "height": 510,
                "symbol": "@Model.Ticker",
                "interval": "W",
                "timezone": "Europe/Lisbon",
                "theme": "light",
                "style": "0",
                "locale": "en",
                "toolbar_bg": "#f1f3f6",
                "enable_publishing": false,
                "allow_symbol_change": true,
                "details": true,
                "calendar": true,
                "container_id": "tradingview_eea8d"
            }
        );
    </script>
    <br />
</div>

<!-- #endregion TradingView Widget END -->
<!--#region Caps Rating, OutForm Ratio and All-Star Ratio -->
<table>

    <td style="font-weight:bolder">
        Caps Rating
        @if (Model.StarRaking == null)
        {
            <i style="padding-right:5px; font-weight:300;"> N/A </i>
        }
        else
        {
            @switch (Model.StarRaking)
            {
                case 1:
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202; padding-right:15px;"></i>
                    break;
                case 2:
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202; padding-right:15px;"></i>
                    break;
                case 3:
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202; padding-right:15px;"></i>
                    break;
                case 4:
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="far fa-star" style="color:#eed202; padding-right:15px;"></i>
                    break;
                case 5:
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202"></i>
                    <i class="fas fa-star" style="color:#eed202; padding-right:15px;"></i>
                    break;
                default: break;
            }
        }
    </td>
    <td style="font-weight:bolder; padding-right:5px;">
        Outperform Ratio
        @if (Model.Outperform == null)
        {
            <i style="padding-right:5px; font-weight:400;"> N/A </i>
        }
        else
        {
        <td style="padding-right:15px; font-weight:400;">
            @Html.DisplayFor(model => Model.Outperform)
        </td>
    }
        </td>
        <td style="font-weight:bolder; padding-right:5px;">
            Under Perform
            @if (Model.Underperform == null)
            {
                <i style="padding-right: 15px;font-weight: 400; "> N/A </i>
            }
            else
            {
            <td style="padding-right:15px; font-weight:400;  padding-right:150px;">@Html.DisplayFor(model => Model.Underperform)</td>
        }
            </td>



<td>
    <h5 style="font-weight:bolder">Expected Company Growth </h5>
    <div class="btn-group activation-toggle">
        <button onclick="myFunction3()" type="button" class="btn btn-default active" data-target="#demo1" data-toggle="collapse">3 Years</button>
        <button onclick="myFunction5()" type="button" class="btn btn-default active" data-target="#demo2" data-toggle="collapse">5 Years</button>
        <button onclick="myFunction10()" type="button" class="btn btn-default active" data-target="#demo3" data-toggle="collapse">10 Years</button>
    </div>
    <div id="demo1" class="collapse">
        <div id="3y" style="display:none">
            <table>
                <tr>
                    <td style="font-weight:bolder; padding-right:5px;">Min:</td>
                    <td style="padding-right:10px;">@(Math.Round((double)Model.CompanyGrowthPrediction.MinValueThreeYears * 100, 2))</td>
                    <td style="font-weight:bolder; padding-right:5px;"> Max:</td>
                    <td>@(Math.Round((double)Model.CompanyGrowthPrediction.MaxValueThreeYears * 100, 2))</td>
                </tr>
            </table>
        </div>
    </div>
    <div id="demo2" class="collapse">
        <div id="5y" style="display:none">
            <table>
                <tr>
                    <td style="font-weight:bolder; padding-right:5px;">Min:</td>
                    <td style="padding-right:10px; padding-right:10px;">@(Math.Round((double)Model.CompanyGrowthPrediction.MinValueFiveYears * 100, 2))</td>
                    <td style="font-weight:bolder; padding-right:5px;"> Max:</td>
                    <td>@(Math.Round((double)Model.CompanyGrowthPrediction.MaxValueFiveYears * 100, 2))</td>
                </tr>
            </table>
        </div>
    </div>
    <div id="demo3" class="collapse">
        <div id="10y" style="display:none">
            <table>
                <tr>
                    <td style="font-weight:bolder; padding-right:5px;">Min:</td>
                    <td style="padding-right:10px;"> @(Math.Round((double)Model.CompanyGrowthPrediction.MinValue * 100, 2))</td>
                    <td style="font-weight:bolder; padding-right:5px;"> Max:</td>
                    <td>@(Math.Round((double)Model.CompanyGrowthPrediction.MaxValue * 100, 2))</td>
                </tr>
            </table>
        </div>
    </div>
</td>
        </table>
        <script>
            function myFunction3() {
                var x = document.getElementById("3y");
                if (x.style.display === "none") {
                    x.style.display = "block";
                } else {
                    x.style.display = "none";
                }
            }
            function myFunction5() {
                var x = document.getElementById("5y");
                if (x.style.display === "none") {
                    x.style.display = "block";
                } else {
                    x.style.display = "none";
                }
            }
            function myFunction10() {
                var x = document.getElementById("10y");
                if (x.style.display === "none") {
                    x.style.display = "block";
                } else {
                    x.style.display = "none";
                }
            }
        </script>
        <br />

        <!--#endregion -->
<!--#region Table Fitness -->
        <br />
        <br />
        <h3>Fitness</h3>
        <table class="tg">
            <thead>
                <tr style="background-color:#242c42;" >
                    <th style=" text-align:center"></th>
                    <th style=" text-align:center">Roic</th>
                    <th style=" text-align:center">Equity</th>
                    <th style=" text-align:center">EPS</th>
                    <th style=" text-align:center">Revenue</th>
                    <th style=" text-align:center">PE Ratio	</th>
                    <th style=" text-align:center">Debt To Equity</th>
                    <th style=" text-align:center">Assets To Liabilities</th>
                    <th style=" text-align:center">Total</th>
                    @*<th style=" text-align:center">Stock Price</th>
                        <th style=" text-align:center"> </th>*@
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th style="background-color: #242c42;">Fitness</th>
                    <td>@(Html.DisplayFor(model => model.RoicFitness))</td>
                    <td>@Html.DisplayFor(model => model.EquityFitness)</td>
                    <td>@Html.DisplayFor(model => model.EPSFitness)</td>
                    <td>@Html.DisplayFor(model => model.RevenueFitness)</td>
                    <td>@Html.DisplayFor(model => model.PERatioFitness)</td>
                    <td>@Html.DisplayFor(model => model.DebtToEquityFitness)</td>
                    <td>@Html.DisplayFor(model => model.AssetsToLiabilitiesFitness)</td>
                    <td>@Html.DisplayFor(model => model.TotalFitness)</td>
                </tr>
                @*<tr style="border-bottom: 1px solid black">
                        <th>Multipliers</th>
                        <td> @Html.DisplayFor(model => model.WeightNumberRoic)</td>
                        <td> @Html.DisplayFor(model => model.WeightNumberEquity)</td>
                        <td> @Html.DisplayFor(model => model.WeightNumberEPS)</td>
                        <td> @Html.DisplayFor(model => model.WeightNumberRevenue)</td>
                        <td>@Html.DisplayFor(model => model.WeightNumberPERatio)</td>
                        <td>@Html.DisplayFor(model => model.WeightNumberDebtToEquity)</td>
                        <td>@Html.DisplayFor(model => model.WeightNumberAssetsToLiabilities)</td>
                    </tr>*@
                @*<tr style="border-bottom: 1px solid black">
                        <th>Parcial Total</th>
                        <td> @(Math.Round((double)Model.WeightNumberRoic * (double)Model.RoicFitness, 2))</td>
                        <td> @(Math.Round((double)Model.WeightNumberEquity * (double)Model.EquityFitness, 2))</td>
                        <td> @(Math.Round((double)Model.WeightNumberEPS * (double)Model.EPSFitness, 2))</td>
                        <td> @(Math.Round((double)Model.WeightNumberRevenue * (double)Model.RevenueFitness, 2))</td>
                        <td> @(Math.Round((double)Model.WeightNumberPERatio * (double)Model.PERatioFitness, 2))</td>
                        <td> @(Math.Round((double)Model.WeightNumberDebtToEquity * (double)Model.DebtToEquityFitness, 2))</td>
                        <td> @(Math.Round((double)Model.WeightNumberAssetsToLiabilities * (double)Model.AssetsToLiabilitiesFitness, 2))</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>*@

                @*<tr style="border-bottom: 1px solid black">
                        <th>Total</th>
                        <td style="text-align:right; background-color:lavender;" colspan="6"></td>
                        <td style="background-color:lavender; font-weight:bold; text-align:left;">@Html.DisplayFor(model => model.TotalFitness)</td>
                    </tr>*@
            </tbody>
        </table>
        <br />
        <br />
        <br />
        <h3>Nominal Values</h3>
        <table class="tg">
            <thead>
                <tr style="background-color: #242c42;">
                    <th></th>
                    <th style=" text-align:center">PERatio</th>
                    <th style=" text-align:center">DebtToEquity</th>
                    <th style=" text-align:center">AssetsToLiabilities</th>
                    <th style=" text-align:center">StockPrice</th>
            </thead>
            <tbody>
                <tr>
                    <th style="max-width:45px; background-color: #242c42; ">Nominal Value</th>
                    <td>@Math.Round((double)Model.PERatio, 2)</td>
                    <td>@Math.Round((double)Model.DebtToEquity, 2)</td>
                    <td>@Math.Round((double)Model.AssetsToLiabilities, 2)</td>
                    <td>@Math.Round((double)Model.StockPrice, 2)</td>
                </tr>
            </tbody>
        </table>
        <!--#endregion -->
<!--#region ROIC and MarketCap -->
        <!--#region  Roic Chart-->
        <div class="row mt-5">
            <div class="col-md-6 col-lg-6">
                <div class="row">
                    <h4>Roic</h4>
                </div>
                <div class="row">
                    <table class="table table-sm text-left table-bordered table-hover" style="width:201px; border-color:white !important; border-bottom:0px !important;">
                        <thead>
                            <tr style="width:67px !important; color:black; text-align: center;">
                                <th>
                                    <h6 style="text-align:center; vertical-align: central;">Slope</h6>
                                </th>
                                <th>
                                    <h6 style=" text-align:center; vertical-align: central;">Median</h6>
                                </th>
                                <th>
                                    <h6 style=" text-align:center; vertical-align: central;">Deviation</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="text-align:center; margin:0 !important; padding: 0 !important;">
                                <td style="text-align:center; margin:0 !important; padding: 0 !important;">
                                    @if (Model.SlopeRoic == null) Model.SlopeRoic = 0;
                                    @if (Model.SlopeRoic != null && Math.Round((double)Model.SlopeRoic, 2) >= 0.1)
                                    {
                                        <h6 style="background-color:lightgreen; padding-bottom:2px !important; padding-top:2px !important;">@Math.Round((double)Model.SlopeRoic, 2)</h6>
                                    }
                                    @if (Model.SlopeRoic != null && Math.Round((double)Model.SlopeRoic, 2) < 0.1 && Math.Round((double)Model.SlopeRoic, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow; padding-bottom:2px !important; padding-top:2px !important;">@Math.Round((double)Model.SlopeRoic, 2)</h6>
                                    }
                                    @if (Model.SlopeRoic != null && Math.Round((double)Model.SlopeRoic, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered; padding-bottom:2px !important; padding-top:2px !important;">@Math.Round((double)Model.SlopeRoic, 2)</h6>
                                    }
                                </td>
                                <td style="text-align:center; margin:0 !important; padding: 0 !important;">
                                    @if (Math.Round((double)Model.MedianRoic, 2) >= 10)
                                    {

                                        <h6 style="background-color:lightgreen; padding-bottom:2px !important; padding-top:2px !important;">@(Math.Round((double)Model.MedianRoic  * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianRoic, 2) < 10 && Math.Round((double)Model.MedianRoic, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow; padding-bottom:2px !important; padding-top:2px !important;">@(Math.Round((double)Model.MedianRoic  * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianRoic, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered; padding-bottom:2px !important; padding-top:2px !important;">@(Math.Round((double)Model.MedianRoic  * 100, 2))</h6>
                                    }
                                </td>
                                <td style="text-align:center; margin:0 !important; padding: 0 !important;">
                                    @if (Math.Round((double)Model.DeviationRoic, 2) <= 15)
                                    {

                                        <h6 style="background-color:lightgreen; padding-bottom:2px !important; padding-top:2px !important;">@(Math.Round((double)Model.DeviationRoic, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationRoic, 2) > 15 && Math.Round((double)Model.DeviationRoic, 2) <= 30)
                                    {

                                        <h6 style="background-color:yellow; padding-bottom:2px !important; padding-top:2px !important;">@(Math.Round((double)Model.DeviationRoic, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationRoic, 2) > 30)
                                    {

                                        <h6 style="background-color:orangered; padding-bottom:2px !important; padding-top:2px !important;">@(Math.Round((double)Model.DeviationRoic, 2))</h6>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
                    {
                        <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                            <div>
                                <div style="width:100%;height:100%">
                                    <canvas id="RoicChart" class="chartjs-render-monitor" style="        display: block;
        width: 30rem;
        height: 15rem;"> </canvas>
                                </div>
                            </div>
                        </div>
                        <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                        </div>
                        <script>
        $.ajax({
            type: "POST",
            url: "/CompanyDetails/CanvasRoic",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'ROIC',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#RoicChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                        </script>
                    }
                </div>
            </div>
            <!--#endregion -->
        <!--#region  Market cap Chart-->
            <div class="col-md-6 col-lg-6">
                <div class="row">
                    <h4>Market Cap</h4>
                </div>
                <div class="row">
                    <table class="table table-sm text-left table-bordered table-hover" style="width:400px">
                        <thead>
                            <tr>
                                <th>
                                    <h6 style="text-align:center;"> 5 Years Growth </h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;"> 10 Years Growth</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;"> Media Growth </h6>
                                </th>
                            </tr>
                        </thead>


                        <tbody>
                            <tr>
                                <td>
                                    @if (Model.MarketCapLastFiveYearsGrowth == null) Model.MarketCapLastFiveYearsGrowth = 0;
                                    @if (Model.MarketCapLastFiveYearsGrowth != null && Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2) >= 0.1)
                                    {
                                        <h6 style="background-color:lightgreen; text-align:center;">@Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2)</h6>
                                    }
                                    @if (Model.MarketCapLastFiveYearsGrowth != null && Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2) < 0.1 && Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow; text-align:center;">@Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2)</h6>
                                    }
                                    @if (Model.MarketCapLastFiveYearsGrowth != null && Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered; text-align:center;">@Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2)</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.MarketCapLastTenYearsGrowth, 2) >= 10)
                                    {

                                        <h6 style="background-color:lightgreen; text-align:center;">@(Math.Round((double)Model.MarketCapLastTenYearsGrowth * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MarketCapLastTenYearsGrowth, 2) < 10 && Math.Round((double)Model.MarketCapLastTenYearsGrowth, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow; text-align:center;">@(Math.Round((double)Model.MarketCapLastTenYearsGrowth  * 100, 2) )</h6>
                                    }
                                    @if (Math.Round((double)Model.MarketCapLastTenYearsGrowth, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered; text-align:center;">@(Math.Round((double)Model.MarketCapLastTenYearsGrowth * 100, 2))</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.MedianMarketCapGrowth, 2) <= 15)
                                    {

                                        <h6 style="background-color:lightgreen; text-align:center;">@(Math.Round((double)Model.MedianMarketCapGrowth, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianMarketCapGrowth, 2) > 15 && Math.Round((double)Model.MedianMarketCapGrowth, 2) <= 30)
                                    {

                                        <h6 style="background-color:yellow; text-align:center;">@(Math.Round((double)Model.MedianMarketCapGrowth, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianMarketCapGrowth, 2) > 30)
                                    {

                                        <h6 style="background-color:orangered; text-align:center;">@(Math.Round((double)Model.MedianMarketCapGrowth, 2))</h6>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
                {
                    <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                        <div>
                            <div style="width:100%;height:100%">
                                <canvas id="MarketCapChart" style="display: block; position:relative; width: 30rem; height: 15rem;"> </canvas>
                            </div>
                        </div>
                    </div>
                    <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                    </div>
                    <script>
        $.ajax({
            type: "POST",
            url: "/CompanyDetails/CanvasMarketCap",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Market Cap',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#MarketCapChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                    </script>
                }
            </div>
        </div>
        <hr />
        <!--#endregion -->
<!--#endregion -->
<!--#region Equity and EquityGrowth -->
        <!--#region Equity Chart -->
        <div class="row mt-5">
            <div class="col-md-6 col-lg-6">
                <div class="row">
                    <h4>Equity</h4>
                </div>
                <div class="row">
                    <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                        <thead>
                            <tr>
                                <th>
                                    <h6 style="text-align:center;">Slope</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;">Median</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;">Deviation</h6>
                                </th>
                            </tr>
                        </thead>



                        <tbody>
                            <tr>
                                <td>
                                    @if (Model.SlopeEquity == null) Model.SlopeEquity = 0;
                                    @if (Model.SlopeEquity != null && Math.Round((double)Model.SlopeEquity, 2) >= 0.1)
                                    {
                                        <h6 style="background-color: lightgreen;text-align:center;">
                                            @Math.Round((double)Model.SlopeEquity, 2)
                                        </h6>
                                    }
                                    @if (Model.SlopeEquity != null && Math.Round((double)Model.SlopeEquity, 2) < 0.1 && Math.Round((double)Model.SlopeEquity, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow;text-align:center;">@Math.Round((double)Model.SlopeEquity, 2)</h6>
                                    }
                                    @if (Model.SlopeEquity != null && Math.Round((double)Model.SlopeEquity, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered;text-align:center;">@Math.Round((double)Model.SlopeEquity, 2)</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.MedianEquity, 2) >= 10)
                                    {

                                        <h6 style="background-color:lightgreen;text-align:center;">@(Math.Round((double)Model.MedianEquity  * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianEquity, 2) < 10 && Math.Round((double)Model.MedianEquity, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow;text-align:center;">@(Math.Round((double)Model.MedianEquity  * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianEquity, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered;text-align:center;">@(Math.Round((double)Model.MedianEquity  * 100, 2))</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.DeviationEquity, 2) <= 15)
                                    {

                                        <h6 style="background-color:lightgreen;text-align:center;">@(Math.Round((double)Model.DeviationEquity, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationEquity, 2) > 15 && Math.Round((double)Model.DeviationEquity, 2) <= 30)
                                    {

                                        <h6 style="background-color:yellow;text-align:center;">@(Math.Round((double)Model.DeviationEquity, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationEquity, 2) > 30)
                                    {

                                        <h6 style="background-color:orangered;text-align:center;">@(Math.Round((double)Model.DeviationEquity, 2))</h6>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
                    {
                        <div Style="font-family: Corbel; font-size: small; text-align:center " class="row">
                            <div>
                                <div style="width:100%;height:100%">
                                    <canvas id="equityChart" class="chartjs-render-monitor" style="display: block; width: 30rem; height: 15rem;"> </canvas>
                                </div>
                            </div>
                        </div>
                        <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                        </div>
                        <script>
        $.ajax({
            type: "POST",
            url: "/CompanyDetails/CanvasEquity",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Equity',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#equityChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                        </script>
                    }
                </div>
            </div>
            <!--#endregion -->
        <!--#region Equity Growth Chart-->
            <div class="col-md-6 col-lg-6">
                <div class="row">
                    <h4>Equity Growth</h4>
                </div>
                <div class="row">
                    <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                        <thead>
                            <tr>
                                <th>
                                    <h6 style="text-align:center;" >Slope</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;">Median</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;">Deviation</h6>
                                </th>
                            </tr>
                        </thead>



                        <tbody>
                            <tr>
                                <td>
                                    @if (Model.SlopeEquityGrowth == null) Model.SlopeEquityGrowth = 0;
                                    @if (Model.SlopeEquityGrowth != null && Math.Round((double)Model.SlopeEquityGrowth, 2) >= 0.1)
                                    {
                                        <h6 style="background-color:lightgreen;text-align:center;">@Math.Round((double)Model.SlopeEquityGrowth, 2)</h6>
                                    }
                                    @if (Model.SlopeEquityGrowth != null && Math.Round((double)Model.SlopeEquityGrowth, 2) < 0.1 && Math.Round((double)Model.SlopeEquityGrowth, 2) >= 0)
                                    {

                                        <h6 style="background-color: yellow; text-align:center;">@Math.Round((double)Model.SlopeEquityGrowth, 2)</h6>
                                    }
                                    @if (Model.SlopeEquityGrowth != null && Math.Round((double)Model.SlopeEquityGrowth, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered;text-align:center;">@Math.Round((double)Model.SlopeEquityGrowth, 2)</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.MedianEquityGrowth, 2) >= 10)
                                    {

                                        <h6 style="background-color: lightgreen; text-align:center;">@(Math.Round((double)Model.MedianEquityGrowth* 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianEquityGrowth, 2) < 10 && Math.Round((double)Model.MedianEquityGrowth, 2) >= 0)
                                    {

                                        <h6 style="background-color:yellow;text-align:center;">@(Math.Round((double)Model.MedianEquityGrowth * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianEquityGrowth, 2) < 0)
                                    {

                                        <h6 style="background-color:orangered;text-align:center;">@(Math.Round((double)Model.MedianEquityGrowth  * 100, 2))</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.DeviationEquityGrowth, 2) <= 15)
                                    {

                                        <h6 style="background-color: lightgreen;text-align:center;">@(Math.Round((double)Model.DeviationEquityGrowth, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationEquityGrowth, 2) > 15 && Math.Round((double)Model.DeviationEquityGrowth, 2) <= 30)
                                    {

                                        <h6 style="background-color:yellow;text-align:center;">@(Math.Round((double)Model.DeviationEquityGrowth, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationEquityGrowth, 2) > 30)
                                    {

                                        <h6 style=" background-color: orangered;text-align:center;">@(Math.Round((double)Model.DeviationEquityGrowth, 2))</h6>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
                    {
                        <div Style="font-family: Corbel;font-size: small;text-align: center" class="row">
                            <div>
                                <div style="width:100%;height:100%">
                                    <canvas id="equityGrowthChart" class="chartjs-render-monitor" style="display: block; width: 30rem; height: 15rem;"> </canvas>
                                </div>
                            </div>
                        </div>
                        <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                        </div>
                        <script>
        $.ajax({
            type: "POST",
            url: "/CompanyDetails/CanvasEquityGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Equity Growth',
                                        borderColor: "#ffd700",
                                        backgroundColor: "#ffd700",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#equityGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                        </script>
                    }
                </div>
            </div>
        </div>
        <hr />
        <!--#endregion -->
<!--#endregion -->
<!--#region Revenue and RevenueGrowth -->
        <!--#region Revenue Chart -->
        <div class="row mt-5">
            <div class="col-md-6 col-lg-6">
                <div class="row">
                    <h4>Revenue</h4>
                </div>
                <div class="row">
                    <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                        <thead>
                            <tr>
                                <th>
                                    <h6 style="text-align:center;">Slope</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;">Median</h6>
                                </th>
                                <th>
                                    <h6 style="text-align:center;">Deviation</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    @if (Model.SlopeRevenue == null) Model.SlopeRevenue = 0;
                                    @if (Model.SlopeRevenue != null && Math.Round((double)Model.SlopeRevenue, 2) >= 0.1)
                                    {
                                        <h6 style="background-color:lightgreen; text-align:center;">@Math.Round((double)Model.SlopeRevenue, 2)</h6>
                                    }
                                    @if (Model.SlopeRevenue != null && Math.Round((double)Model.SlopeRevenue, 2) < 0.1 && Math.Round((double)Model.SlopeRevenue, 2) >= 0)
                                    {
                                        <h6 style="background-color:yellow; text-align:center;">@Math.Round((double)Model.SlopeRevenue, 2)</h6>
                                    }
                                    @if (Model.SlopeRevenue != null && Math.Round((double)Model.SlopeRevenue, 2) < 0)
                                    {
                                        <h6 style="background-color:orangered;text-align:center;">@Math.Round((double)Model.SlopeRevenue, 2)</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.MedianRevenue, 2) >= 10)
                                    {
                                        <h6 style="background-color:lightgreen;text-align:center;">@(Math.Round((double)Model.MedianRevenue* 100, 2) )</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianRevenue, 2) < 10 && Math.Round((double)Model.MedianRevenue, 2) >= 0)
                                    {
                                        <h6 style="background-color:yellow;text-align:center;">@(Math.Round((double)Model.MedianRevenue  * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianRevenue, 2) < 0)
                                    {
                                        <h6 style="background-color:orangered;text-align:center;">@(Math.Round((double)Model.MedianRevenue * 100, 2))</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.DeviationRevenue, 2) <= 15)
                                    {
                                        <h6 style="background-color:lightgreen;text-align:center;">@(Math.Round((double)Model.DeviationRevenue, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationRevenue, 2) > 15 && Math.Round((double)Model.DeviationRevenue, 2) <= 30)
                                    {
                                        <h6 style="background-color:yellow;text-align:center;">@(Math.Round((double)Model.DeviationRevenue, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationRevenue, 2) > 30)
                                    {
                                        <h6 style="background-color:orangered;text-align:center;">@(Math.Round((double)Model.DeviationRevenue, 2))</h6>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
                    {
                        <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                            <div>
                                <div style="width:100%;height:100%">
                                    <canvas id="RevenueChart" style="display: block; width: 30rem; height: 15rem;"> </canvas>
                                </div>
                            </div>
                        </div>
                        <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                        </div>
                        <script>
            $.ajax({
                type: "POST",
                url: "/CompanyDetails/CanvasRevenue",
                data: JSON.stringify("@Model.Ticker"),
                contentType: "application/json; charset=utf-8",
                datatype: "json",
                 success: function(mems) {
                                config = {
                                    type: 'line',
                                    fill: false,
                                    data: {
                                        labels: mems[0],
                                        datasets: [{
                                            label: 'Revenue',
                                            borderColor: "Tomato",
                                            backgroundColor: "Tomato",
                                            fill: false,
                                            data: mems[1],
                                        }]
                                    },
                        options: {
                        responsive: true,
                        }
                    };
                    var ctx = $("#RevenueChart").get(0).getContext("2d");
                    var myNewChart = new Chart(ctx, config);
                }
            });
                        </script>
                    }
                </div>
            </div>
            <!--#endregion -->
        <!--#region Revenue Growth Chart -->
            <div class="col-md-6 col-lg-6">
                <div class="row">
                    <h4>Revenue Growth</h4>
                </div>
                <div class="row">
                    <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                        <thead>
                            <tr>
                                <th>
                                    <h6>Slope</h6>
                                </th>
                                <th>
                                    <h6>Median</h6>
                                </th>
                                <th>
                                    <h6>Deviation</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    @if (Model.SlopeRevenueGrowth == null) Model.SlopeRevenueGrowth = 0;
                                    @if (Model.SlopeRevenueGrowth != null && Math.Round((double)Model.SlopeRevenueGrowth, 2) >= 0.1)
                                    {
                                        <h6 style="background-color:lightgreen">@Math.Round((double)Model.SlopeRevenueGrowth, 2)</h6>
                                    }
                                    @if (Model.SlopeRevenueGrowth != null && Math.Round((double)Model.SlopeRevenueGrowth, 2) < 0.1 && Math.Round((double)Model.SlopeRevenueGrowth, 2) >= 0)
                                    {
                                        <h6 style="background-color:yellow">@Math.Round((double)Model.SlopeRevenueGrowth, 2)</h6>
                                    }
                                    @if (Model.SlopeRevenueGrowth != null && Math.Round((double)Model.SlopeRevenueGrowth, 2) < 0)
                                    {
                                        <h6 style="background-color:orangered">@Math.Round((double)Model.SlopeRevenueGrowth, 2)</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.MedianRevenueGrowth, 2) >= 10)
                                    {
                                        <h6 style="background-color:lightgreen">@(Math.Round((double)Model.MedianRevenueGrowth, 2) * 100)</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianRevenueGrowth, 2) < 10 && Math.Round((double)Model.MedianRevenueGrowth, 2) >= 0)
                                    {
                                        <h6 style="background-color:yellow">@(Math.Round((double)Model.MedianRevenueGrowth  * 100, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.MedianRevenueGrowth, 2) < 0)
                                    {
                                        <h6 style="background-color:orangered">@(Math.Round((double)Model.MedianRevenueGrowth  * 100, 2))</h6>
                                    }
                                </td>
                                <td>
                                    @if (Math.Round((double)Model.DeviationRevenueGrowth, 2) <= 15)
                                    {
                                        <h6 style="background-color:lightgreen">@(Math.Round((double)Model.DeviationRevenueGrowth, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationRevenueGrowth, 2) > 15 && Math.Round((double)Model.DeviationRevenueGrowth, 2) <= 30)
                                    {
                                        <h6 style="background-color:yellow">@(Math.Round((double)Model.DeviationRevenueGrowth, 2))</h6>
                                    }
                                    @if (Math.Round((double)Model.DeviationRevenueGrowth, 2) > 30)
                                    {
                                        <h6 style="background-color:orangered">@(Math.Round((double)Model.DeviationRevenueGrowth, 2))</h6>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
                    {
                        <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                            <div>
                                <div style="width:100%;height:100%">
                                    <canvas id="RevenueGrowthChart" style="display: block; width: 30rem; height: 15rem;"> </canvas>
                                </div>
                            </div>
                        </div>
                        <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                        </div>
                        <script>
        $.ajax({
            type: "POST",
            url: "/CompanyDetails/CanvasRevenueGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Revenue Growth',
                                        borderColor: "#ffd700",
                                        backgroundColor: "#ffd700",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#RevenueGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                        </script>
                    }
                </div>
            </div>
        </div>
        <!--#endregion -->
        <hr />
<!--#endregion -->
