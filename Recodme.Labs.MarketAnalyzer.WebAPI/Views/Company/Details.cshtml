@model Recodme.Labs.MarketAnalyzer.WebAPI.Models.Support.DetailsDataPoco

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

@section head
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
}

<!DOCTYPE html>

<h2>@Html.DisplayFor(model => model.CompanyName) | @Html.DisplayFor(model => model.Ticker) | Forbes Rank @Html.DisplayFor(model => model.Forbes2000Rank) | Market Analyzer Rank @Html.DisplayFor(model => model.MarketAnalyzerRank)</h2>

<h3>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.Ticker)+stock+price">
        @(Model.Ticker) |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=motley+fool+@(Model.Ticker)">
        Fool |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+stock+crash">
        Crash |
    </a>
    <a target="_blank" link href="https://quickfs.net/company/@(Model.Ticker):US">
        QuickFS |
    </a>
    <a target="_blank" link href="https://finance.yahoo.com/quote/@(Model.Ticker)?">
        Yahoo |
    </a>
    <a target="_blank" link href="https://trends.google.com/trends/explore?date=all&geo=US&q=@(Model.CompanyName)">
        Trends |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+site">
        Site |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+wiki">
        Wiki
    </a>
</h3>
<table border="1">
    <thead>
        <tr>
            <th></th>
            <th style=" text-align:center">Fitness</th>
            <th style=" text-align:center">Weight</th>
            <th style=" text-align:center">Parcial Total</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Roic</th>
            <td>@(Html.DisplayFor(model => model.RoicFitness))</td>
            <td> @Html.DisplayFor(model => model.WeightNumberRoic)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberRoic) * Convert.ToDecimal(Model.RoicFitness), 2))</td>
        </tr>
        <tr>
            <th>Equity</th>
            <td> @Html.DisplayFor(model => model.EquityFitness)</td>
            <td> @Html.DisplayFor(model => model.WeightNumberEquity)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberEquity) * Convert.ToDecimal(Model.EquityFitness), 2))</td>
        </tr>
        <tr>
            <th>EPS</th>
            <td> @Html.DisplayFor(model => model.EPSFitness)</td>
            <td> @Html.DisplayFor(model => model.WeightNumberEPS)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberEPS) * Convert.ToDecimal(Model.EPSFitness), 2))</td>
        </tr>
        <tr>
            <th>Revenue</th>
            <td> @Html.DisplayFor(model => model.RevenueFitness)</td>
            <td> @Html.DisplayFor(model => model.WeightNumberRevenue)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberRevenue) * Convert.ToDecimal(Model.RevenueFitness), 2))</td>
        </tr>
        <tr>
            <th>PE Ratio</th>
            <td>@Html.DisplayFor(model => model.PERatioFitness)</td>
            <td>@Html.DisplayFor(model => model.WeightNumberPERatio)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberPERatio) * Convert.ToDecimal(Model.PERatioFitness), 2))</td>
        </tr>
        <tr>
            <th>Debt To Equity</th>
            <td>@Html.DisplayFor(model => model.DebtToEquityFitness)</td>
            <td>@Html.DisplayFor(model => model.WeightNumberDebtToEquity)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberDebtToEquity) * Convert.ToDecimal(Model.DebtToEquityFitness), 2))</td>
        </tr>
        <tr>
            <th>Assets To Liabilities</th>
            <td>@Html.DisplayFor(model => model.AssetsToLiabilitiesFitness)</td>
            <td>@Html.DisplayFor(model => model.WeightNumberAssetsToLiabilities)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberAssetsToLiabilities) * Convert.ToDecimal(Model.AssetsToLiabilitiesFitness), 2))</td>
        </tr>
        <tr>
            <th style="background-color:#86bc42">Total</th>
            <td class="centralizar" colspan="4" style="background-color:#86bc42">@Html.DisplayFor(model => model.TotalFitness)</td>
        </tr>
    </tbody>
</table>

<!--#region ROIC and MarketCap -->
@* Roic Chart *@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>Roic</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:200px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeRoic, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianRoic, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationRoic, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="RoicChart" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasRoic",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'ROIC',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#RoicChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @* Market cap Chart*@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>Market Cap</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:400px">
                <thead>
                    <tr>
                        <th>
                            <h6> 5 Years Growth </h6>
                        </th>
                        <th>
                            <h6> 10 Years Growth</h6>
                        </th>
                        <th>
                            <h6> Media Growth </h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.MarketCapLastFiveYearsGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MarketCapLastTenYearsGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianMarketCapGrowth, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
        {
            <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                <div>
                    <div style="width:100%;height:100%">
                        <canvas id="MarketCapChart" style="display: block; width: 540px; height: 270px;"> </canvas>
                    </div>
                </div>
            </div>
            <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
            </div>
            <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasMarketCap",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Market Cap',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#MarketCapChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
            </script>
        }
    </div>
</div>
<!--#endregion -->

<!--#region Equity and EquityGrowth -->
@* Equity Chart *@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>Equity</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeEquity, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianEquity, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationEquity, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small; text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="equityChart" class="chartjs-render-monitor" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEquity",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Equity',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#equityChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @* Equity Growth Chart*@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>Equity Growth</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeEquityGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianEquityGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationEquityGrowth, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="equityGrowthChart" class="chartjs-render-monitor" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEquityGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Equity Growth',
                                        borderColor: "#ffd700",
                                        backgroundColor: "#ffd700",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#equityGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>
<!--#endregion -->

<!--#region Revenue and RevenueGrowth -->
@*Revenue Chart*@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>Revenue</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeRevenue, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianRevenue, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationRevenue, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="RevenueChart" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>

                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasRevenue",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Revenue',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#RevenueChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @* Revenue Growth Chart *@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>Revenue Growth</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeRevenueGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianRevenueGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationRevenueGrowth, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="RevenueGrowthChart" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasRevenueGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'Revenue Growth',
                                        borderColor: "#ffd700",
                                        backgroundColor: "#ffd700",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#RevenueGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>
<!--#endregion -->

<!--#region EPS and EPSGrowth  -->
@*EPS Chart *@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>EPS</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeEps, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianEps, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationEps, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="EpsChart" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
                    $.ajax({
                        type: "POST",
                        url: "/Company/CanvasEps",
                        data: JSON.stringify("@Model.Ticker"),
                        contentType: "application/json; charset=utf-8",
                        datatype: "json",
                        success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'EPS',
                                        borderColor: "Tomato",
                                        backgroundColor: "Tomato",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                                options: {
                                    responsive: true,
                                }
                            };
                            var ctx = $("#EpsChart").get(0).getContext("2d");
                            var myNewChart = new Chart(ctx, config);
                        }
                    });
                </script>
            }
        </div>
    </div>

    @*EPS Growth Chart *@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            <h4>EPS Growth</h4>
        </div>
        <div class="row">
            <table class="table table-sm text-left table-bordered table-hover" style="width:100px">
                <thead>
                    <tr>
                        <th>
                            <h6>Slope</h6>
                        </th>
                        <th>
                            <h6>Median</h6>
                        </th>
                        <th>
                            <h6>Deviation</h6>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <h6>@Math.Round((double)Model.SlopeEpsGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.MedianEpsGrowth, 2)</h6>
                        </td>
                        <td>
                            <h6>@Math.Round((double)Model.DeviationEpsGrowth, 2)</h6>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="EpsGrowthChart" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEpsGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
             success: function(mems) {
                            config = {
                                type: 'line',
                                fill: false,
                                data: {
                                    labels: mems[0],
                                    datasets: [{
                                        label: 'EPS Growth',
                                        borderColor: "#ffd700",
                                        backgroundColor: "#ffd700",
                                        fill: false,
                                        data: mems[1],
                                    }]
                                },
                    options: {
                    responsive: true,
                    }
                };
                var ctx = $("#EpsGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>
<!--#endregion -->
