@model Recodme.Labs.MarketAnalyzer.WebAPI.Models.Support.DetailsDataPoco

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

@section head
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
}

<!DOCTYPE html>

<h2>@Html.DisplayFor(model => model.CompanyName) | @Html.DisplayFor(model => model.Ticker) | Forbes Rank @Html.DisplayFor(model => model.Forbes2000Rank) | Market Analyzer Rank @Html.DisplayFor(model => model.MarketAnalyzerRank)</h2>

<h3>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.Ticker)+stock+price">
        @(Model.Ticker) |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=motley+fool+@(Model.Ticker)">
        Fool |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+stock+crash">
        Crash |
    </a>
    <a target="_blank" link href="https://quickfs.net/company/@(Model.Ticker):US">
        QuickFS |
    </a>
    <a target="_blank" link href="https://finance.yahoo.com/quote/@(Model.Ticker)?">
        Yahoo |
    </a>
    <a target="_blank" link href="https://trends.google.com/trends/explore?date=all&geo=US&q=@(Model.CompanyName)">
        Trends |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+site">
        Site |
    </a>
    <a target="_blank" link href="https://www.google.com/search?q=@(Model.CompanyName)+wiki">
        Wiki
    </a>
</h3>
<table border="1">
    <thead>
        <tr>
            <th></th>
            <th style=" text-align:center">Fitness</th>
            <th style=" text-align:center">Weight</th>
            <th style=" text-align:center">Parcial Total</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th>Roic</th>
            <td>@(Html.DisplayFor(model => model.RoicFitness))</td>
            <td> @Html.DisplayFor(model => model.WeightNumberRoic)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberRoic) * Convert.ToDecimal(Model.RoicFitness), 2))</td>
        </tr>
        <tr>
            <th>Equity</th>
            <td> @Html.DisplayFor(model => model.EquityFitness)</td>
            <td> @Html.DisplayFor(model => model.WeightNumberEquity)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberEquity) * Convert.ToDecimal(Model.EquityFitness), 2))</td>
        </tr>
        <tr>
            <th>EPS</th>
            <td> @Html.DisplayFor(model => model.EPSFitness)</td>
            <td> @Html.DisplayFor(model => model.WeightNumberEPS)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberEPS) * Convert.ToDecimal(Model.EPSFitness), 2))</td>
        </tr>
        <tr>
            <th>Revenue</th>
            <td> @Html.DisplayFor(model => model.RevenueFitness)</td>
            <td> @Html.DisplayFor(model => model.WeightNumberRevenue)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberRevenue) * Convert.ToDecimal(Model.RevenueFitness), 2))</td>
        </tr>
        <tr>
            <th>PE Ratio</th>
            <td>@Html.DisplayFor(model => model.PERatioFitness)</td>
            <td>@Html.DisplayFor(model => model.WeightNumberPERatio)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberPERatio) * Convert.ToDecimal(Model.PERatioFitness), 2))</td>
        </tr>
        <tr>
            <th>Debt To Equity</th>
            <td>@Html.DisplayFor(model => model.DebtToEquityFitness)</td>
            <td>@Html.DisplayFor(model => model.WeightNumberDebtToEquity)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberDebtToEquity) * Convert.ToDecimal(Model.DebtToEquityFitness), 2))</td>
        </tr>
        <tr>

            <th>Assets To Liabilities</th>
            <td>@Html.DisplayFor(model => model.AssetsToLiabilitiesFitness)</td>
            <td>@Html.DisplayFor(model => model.WeightNumberAssetsToLiabilities)</td>
            <td> @(Math.Round(Convert.ToDecimal(Model.WeightNumberAssetsToLiabilities) * Convert.ToDecimal(Model.AssetsToLiabilitiesFitness), 2))</td>
        </tr>
        <tr>
            <th style="background-color:#86bc42">Total</th>
            <td class="centralizar" colspan="4" style="background-color:#86bc42">@Html.DisplayFor(model => model.TotalFitness)</td>
        </tr>
    </tbody>
</table>

@* Roic Chart *@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="RoicChart" width="810" height="405" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasRoic",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "ROIC",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'ROIC',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'ROIC'
                    },
                    }
                };
                var ctx = $("#RoicChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @* Market cap Chart*@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="MarketCapChart" width="810" height="405" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasMarketCap",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "Market cap",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'Market cap',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'Market cap'
                    },
                    }
                };
                var ctx = $("#MarketCapChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>

@* Equity Chart *@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small; text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="equityChart" width="720" height="360" class="chartjs-render-monitor" style="display: block; width: 550px; height: 350px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEquity",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "Equity",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'Equity',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'Equity'
                    },
                    }
                };
                var ctx = $("#equityChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @* Equity Growth Chart*@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="equityGrowthChart" width="720" height="360" class="chartjs-render-monitor" style="display: block; width: 550px; height: 350px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEquityGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "Equity Growth",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'Equity Growth',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'Equity Growth'
                    },
                    }
                };
                var ctx = $("#equityGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>

@*Revenue Chart*@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="RevenueChart" width="810" height="405" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>

                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasRevenue",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "Revenue",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'Revenue',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'Revenue'
                    },
                    }
                };
                var ctx = $("#RevenueChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @* Revenue Growth Chart *@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="RevenueGrowthChart" width="810" height="405" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasRevenueGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "Revenue Growth",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'Revenue Growth',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'Revenue Growth'
                    },
                    }
                };
                var ctx = $("#RevenueGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>

@*EPS Chart *@
<div class="row mt-5">
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="EpsChart" width="810" height="405" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEps",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {

                      const data = [];

                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }

                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "EPS",
                    data: data,
                    }]
                };

                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'EPS',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'EPS'
                    },
                    }
                };
                var ctx = $("#EpsChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>

    @*EPS Growth Chart *@
    <div class="col-md-6 col-lg-6">
        <div class="row">
            @using (Html.BeginForm("Index", "Home", null, FormMethod.Post))
            {
                <div Style="font-family: Corbel; font-size: small ;text-align:center " class="row">
                    <div>
                        <div style="width:100%;height:100%">
                            <canvas id="EpsGrowthChart" width="810" height="405" style="display: block; width: 540px; height: 270px;"> </canvas>
                        </div>
                    </div>
                </div>
                <div Style="font-family: Corbel; font-size: small ;text-align:center; " class="row">
                </div>
                <script>
        $.ajax({
            type: "POST",
            url: "/Company/CanvasEpsGrowth",
            data: JSON.stringify("@Model.Ticker"),
            contentType: "application/json; charset=utf-8",
            datatype: "json",
            success: function (mems) {
                      const data = [];
                for (var i = 0; i < mems[0].length; i++) {
                    data.push(mems[1][i]);
                }
                 var dataT = {
                    labels: mems[0],
                    datasets: [{
                    label: "EPS Growth",
                    data: data,
                    }]
                };
                config = {
                    type: 'line',
                    fill: false,
                    data: {
                    labels: mems[0],
                    datasets: [{
                    label: 'EPS Growth',
                    borderColor:"Tomato",
                    backgroundColor: "Tomato",
                    fill: false,
                    data: data,
                    }]
                    },
                    options: {
                    responsive: true,
                    title: {
                    display: true,
                    text: 'EPS Growth'
                    },
                    }
                };
                var ctx = $("#EpsGrowthChart").get(0).getContext("2d");
                var myNewChart = new Chart(ctx, config);
            }
        });
                </script>
            }
        </div>
    </div>
</div>
